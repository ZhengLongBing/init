# ç‰ˆæœ¬æ§åˆ¶è§„èŒƒ

---

## ç›®å½•

1. [æ ¸å¿ƒåŸåˆ™](#1-æ ¸å¿ƒåŸåˆ™)
2. [åˆ†æ”¯ç­–ç•¥](#2-åˆ†æ”¯ç­–ç•¥)
3. [åˆ†æ”¯å‘½åè§„èŒƒ](#3-åˆ†æ”¯å‘½åè§„èŒƒ)
4. [Commit è§„èŒƒ](#4-commit-è§„èŒƒ)
5. [å·¥ä½œæµç¨‹](#5-å·¥ä½œæµç¨‹)
6. [Code Review è§„èŒƒ](#6-code-review-è§„èŒƒ)
7. [åˆå¹¶ç­–ç•¥](#7-åˆå¹¶ç­–ç•¥)
8. [ç‰ˆæœ¬å·ç®¡ç†](#8-ç‰ˆæœ¬å·ç®¡ç†)
9. [æ ‡ç­¾ä¸å‘å¸ƒ](#9-æ ‡ç­¾ä¸å‘å¸ƒ)
10. [å†²çªå¤„ç†](#10-å†²çªå¤„ç†)
11. [å›¢é˜Ÿçº¦å®šæ¸…å•](#11-å›¢é˜Ÿçº¦å®šæ¸…å•)
12. [å¿«é€Ÿå‚è€ƒå¡ç‰‡](#12-å¿«é€Ÿå‚è€ƒå¡ç‰‡)

---

## 1. æ ¸å¿ƒåŸåˆ™

| åŸåˆ™ | è¯´æ˜ | å®è·µ |
|------|------|------|
| **ä¸»å¹²ç¨³å®š** | main åˆ†æ”¯å§‹ç»ˆå¯éƒ¨ç½² | æ‰€æœ‰å˜æ›´é€šè¿‡ PR åˆå¹¶ï¼ŒCI å¿…é¡»é€šè¿‡ |
| **å°æ­¥æäº¤** | é¢‘ç¹æäº¤ï¼Œæ¯æ¬¡æäº¤èšç„¦å•ä¸€ç›®çš„ | ä¸€ä¸ª commit è§£å†³ä¸€ä¸ªé—®é¢˜ |
| **æ¸…æ™°å†å²** | æäº¤å†å²æ˜“äºè¿½æº¯å’Œç†è§£ | è§„èŒƒçš„ commit messageï¼ŒSquash åˆå¹¶ |
| **åä½œé€æ˜** | æ‰€æœ‰å˜æ›´å¯è¿½æº¯ã€å¯å®¡æŸ¥ | Code Reviewï¼ŒPR æè¿°å®Œæ•´ |

**ä¸€å¥è¯æ€»ç»“**ï¼šå°æ­¥æäº¤ï¼Œæ¸…æ™°æè¿°ï¼ŒPR åˆå¹¶ï¼Œä¿æŒä¸»å¹²ç¨³å®šã€‚

---

## 2. åˆ†æ”¯ç­–ç•¥

### 2.1 åˆ†æ”¯æ¨¡å‹

```
main            â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€  ç”Ÿäº§å°±ç»ª
                    â†‘        â†‘        â†‘        â†‘
                    â”‚        â”‚        â”‚        â”‚
feature/login   â”€â”€â”€â”€â—â”€â”€â—â”€â”€â—â”€â”€â”˜        â”‚        â”‚      æ–°åŠŸèƒ½
                                      â”‚        â”‚
bugfix/api-null â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â—â”€â”€â”€â”€â”˜        â”‚      Bug ä¿®å¤
                                               â”‚
hotfix/security â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—â”€â”€â”€â”€â”€â”€â”€â”˜      ç´§æ€¥ä¿®å¤
```

### 2.2 åˆ†æ”¯ç±»å‹

| åˆ†æ”¯ç±»å‹ | å‘½åæ ¼å¼ | ç”¨é€” | ç”Ÿå‘½å‘¨æœŸ | æ¥æº | åˆå¹¶åˆ° |
|----------|----------|------|----------|------|--------|
| `main` | `main` | ç”Ÿäº§å°±ç»ªä»£ç  | æ°¸ä¹… | - | - |
| `feature/*` | `feature/<name>` | æ–°åŠŸèƒ½å¼€å‘ | çŸ­æœŸ | main | main |
| `bugfix/*` | `bugfix/<name>` | Bug ä¿®å¤ | çŸ­æœŸ | main | main |
| `refactor/*` | `refactor/<name>` | ä»£ç é‡æ„ | çŸ­æœŸ | main | main |
| `hotfix/*` | `hotfix/<name>` | ç´§æ€¥çº¿ä¸Šä¿®å¤ | çŸ­æœŸ | main | main |
| `release/*` | `release/<version>` | å‘å¸ƒå‡†å¤‡ | çŸ­æœŸ | main | main + tag |
| `docs/*` | `docs/<name>` | æ–‡æ¡£æ›´æ–° | çŸ­æœŸ | main | main |
| `test/*` | `test/<name>` | æµ‹è¯•ç›¸å…³ | çŸ­æœŸ | main | main |

### 2.3 åˆ†æ”¯ç­–ç•¥è§„èŒƒè¦ç‚¹

| è§„åˆ™ | è¯´æ˜ |
|------|------|
| main å§‹ç»ˆå¯éƒ¨ç½² | ä»»ä½•æ—¶å€™éƒ½èƒ½ä» main å‘å¸ƒ |
| åŠŸèƒ½åˆ†æ”¯çŸ­æœŸå­˜åœ¨ | å»ºè®® 1-5 å¤©å†…åˆå¹¶ï¼Œæœ€é•¿ä¸è¶…è¿‡ 2 å‘¨ |
| å®šæœŸåŒæ­¥ main | è‡³å°‘æ¯å¤© rebase ä¸€æ¬¡ï¼Œé¿å…å¤§é‡å†²çª |
| åˆå¹¶åç«‹å³åˆ é™¤ | ä¿æŒåˆ†æ”¯åˆ—è¡¨æ•´æ´ |

---

## 3. åˆ†æ”¯å‘½åè§„èŒƒ

### 3.1 å‘½åæ ¼å¼

```
<type>/<ticket-id>-<short-description>
```

### 3.2 å‘½åç¤ºä¾‹

```bash
# âœ… æ­£ç¡®ï¼šæ¸…æ™°ã€æœ‰æ„ä¹‰ã€åŒ…å«å…³é”®ä¿¡æ¯
feature/AUTH-123-user-login           # å¸¦å·¥å•å·
feature/add-export-api                 # æ— å·¥å•æ—¶
feature/user-registration-flow

bugfix/API-456-null-pointer-exception
bugfix/fix-login-timeout
bugfix/resolve-race-condition

refactor/DB-789-extract-connection-pool
refactor/simplify-auth-middleware
refactor/modularize-utils

hotfix/SEC-001-sql-injection
hotfix/fix-production-crash

release/v1.2.0
release/v2.0.0-rc1

docs/update-api-documentation
docs/add-deployment-guide

# âŒ é”™è¯¯ï¼šæ¨¡ç³Šã€æ— æ„ä¹‰ã€æ ¼å¼ä¸è§„èŒƒ
feature/test                  # å¤ªæ¨¡ç³Š
feature/MyFeature             # ä¸ç”¨é©¼å³°
feature/feature_new_stuff     # é‡å¤ featureï¼Œä¸‹åˆ’çº¿
bugfix/fix                    # æ— æè¿°
john/experiment               # ä¸ªäººå‘½å
```

### 3.3 å‘½åè§„åˆ™

| è§„åˆ™ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| å…¨å°å†™ | é¿å…å¤§å°å†™æ··æ·† | `feature/user-login` |
| çŸ­æ¨ªçº¿åˆ†éš” | ä¸ç”¨ä¸‹åˆ’çº¿æˆ–é©¼å³° | `add-new-feature` |
| ç®€æ´æ˜äº† | 2-4 ä¸ªå•è¯ | `fix-login-error` |
| åŒ…å«å·¥å•å· | å¦‚æœ‰è¿½è¸ªç³»ç»Ÿ | `AUTH-123-user-login` |
| è‹±æ–‡å‘½å | ä¿æŒä¸€è‡´æ€§ | ä¸ç”¨æ‹¼éŸ³æˆ–ä¸­æ–‡ |

---

## 4. Commit è§„èŒƒ

### 4.1 Commit Message æ ¼å¼

```
<type>(<scope>): <subject>

[body]

[footer]
```

**ç»“æ„è¯´æ˜ï¼š**

| éƒ¨åˆ† | å¿…é¡» | è¯´æ˜ |
|------|------|------|
| type | âœ… | æäº¤ç±»å‹ |
| scope | âŒ | å½±å“èŒƒå›´ï¼ˆæ¨¡å—åï¼‰ |
| subject | âœ… | ç®€çŸ­æè¿°ï¼ˆâ‰¤50å­—ç¬¦ï¼‰ |
| body | âŒ | è¯¦ç»†è¯´æ˜ï¼ˆæ¯è¡Œâ‰¤72å­—ç¬¦ï¼‰ |
| footer | âŒ | å…³è” issueã€Breaking Change |

### 4.2 Type ç±»å‹

| ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `feat` | æ–°åŠŸèƒ½ | `feat(auth): add OAuth2 login` |
| `fix` | Bug ä¿®å¤ | `fix(api): resolve null pointer` |
| `refactor` | é‡æ„ï¼ˆä¸æ”¹å˜åŠŸèƒ½ï¼‰ | `refactor(db): extract pool logic` |
| `perf` | æ€§èƒ½ä¼˜åŒ– | `perf(query): add index for search` |
| `docs` | æ–‡æ¡£å˜æ›´ | `docs(readme): update installation` |
| `test` | æµ‹è¯•ç›¸å…³ | `test(user): add login unit tests` |
| `style` | æ ¼å¼è°ƒæ•´ï¼ˆä¸å½±å“é€»è¾‘ï¼‰ | `style: fix indentation` |
| `chore` | æ„å»º/å·¥å…·/ä¾èµ– | `chore(deps): upgrade tokio to 1.0` |
| `ci` | CI/CD é…ç½® | `ci: add GitHub Actions workflow` |
| `revert` | å›æ»šæäº¤ | `revert: feat(auth): add OAuth2` |

### 4.3 Commit ç¤ºä¾‹

```bash
# âœ… æ­£ç¡®ï¼šæ¸…æ™°ã€è§„èŒƒã€æœ‰æ„ä¹‰

# ç®€å•æäº¤
feat(auth): add JWT token refresh mechanism
fix(api): resolve null pointer in user query
refactor(db): extract connection pool to separate module
docs(api): add authentication endpoint examples
test(user): add integration tests for registration

# å¸¦ body çš„è¯¦ç»†æäº¤
feat(payment): add Stripe payment integration

Implement Stripe payment gateway with support for:
- One-time payments
- Subscription management
- Webhook handling

Closes #123

# å¸¦ Breaking Change çš„æäº¤
feat(api)!: change user endpoint response format

BREAKING CHANGE: User API now returns camelCase fields
instead of snake_case. Update all client applications.

Migration guide: https://docs.example.com/migration

# âŒ é”™è¯¯ï¼šæ¨¡ç³Šã€ä¸è§„èŒƒ

fix: bug                      # æ— å…·ä½“æè¿°
update                        # æ— ç±»å‹ï¼Œæ— æè¿°
feat: Add new feature         # é¦–å­—æ¯å¤§å†™
fixed the login issue         # æ ¼å¼ä¸å¯¹
feat(auth): Add JWT token refresh mechanism for better security and user experience  # è¶…è¿‡50å­—ç¬¦
```

### 4.4 Commit è§„èŒƒè¦ç‚¹

| è§„åˆ™ | è¯´æ˜ |
|------|------|
| subject ä½¿ç”¨ç¥ˆä½¿å¥ | "add feature" è€Œé "added feature" |
| subject é¦–å­—æ¯å°å†™ | "add" è€Œé "Add" |
| subject ä¸åŠ å¥å· | ç»“å°¾æ— æ ‡ç‚¹ |
| subject â‰¤ 50 å­—ç¬¦ | ä¿æŒç®€æ´ |
| body æ¯è¡Œ â‰¤ 72 å­—ç¬¦ | ä¾¿äºé˜…è¯» |
| ä¸€ä¸ª commit ä¸€ä»¶äº‹ | åŸå­æ€§æäº¤ |

---

## 5. å·¥ä½œæµç¨‹

### 5.1 æ ‡å‡†å¼€å‘æµç¨‹

```bash
# 1. åŒæ­¥æœ€æ–°ä»£ç 
git checkout main
git pull origin main

# 2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/AUTH-123-user-login

# 3. å¼€å‘å¹¶æäº¤ï¼ˆå°æ­¥æäº¤ï¼‰
git add src/auth/login.rs
git commit -m "feat(auth): add login form validation"

git add src/auth/jwt.rs
git commit -m "feat(auth): implement JWT token generation"

git add tests/auth_test.rs
git commit -m "test(auth): add login integration tests"

# 4. å®šæœŸåŒæ­¥ä¸»å¹²ï¼ˆæ¨èæ¯å¤©ï¼‰
git fetch origin
git rebase origin/main

# 5. è§£å†³å†²çªï¼ˆå¦‚æœ‰ï¼‰
# ... ç¼–è¾‘å†²çªæ–‡ä»¶ ...
git add <resolved-files>
git rebase --continue

# 6. æ¨é€åˆ†æ”¯
git push origin feature/AUTH-123-user-login
# å¦‚æœ rebase åéœ€è¦å¼ºåˆ¶æ¨é€ï¼ˆä»…é™ä¸ªäººåˆ†æ”¯ï¼‰
git push origin feature/AUTH-123-user-login --force-with-lease

# 7. åˆ›å»º Pull Request
# åœ¨ GitHub/GitLab ä¸Šåˆ›å»º PRï¼Œå¡«å†™æè¿°æ¨¡æ¿

# 8. Code Review ååˆå¹¶
# ä½¿ç”¨ Squash Merge

# 9. åˆ é™¤åˆ†æ”¯
git checkout main
git pull origin main
git branch -d feature/AUTH-123-user-login
```

### 5.2 Hotfix ç´§æ€¥ä¿®å¤æµç¨‹

```bash
# 1. ä» main åˆ›å»º hotfix åˆ†æ”¯
git checkout main
git pull origin main
git checkout -b hotfix/SEC-001-sql-injection

# 2. å¿«é€Ÿä¿®å¤å¹¶æäº¤
git add .
git commit -m "fix(security): patch SQL injection vulnerability"

# 3. æ¨é€å¹¶åˆ›å»ºç´§æ€¥ PR
git push origin hotfix/SEC-001-sql-injection

# 4. åŠ æ€¥ Review åç«‹å³åˆå¹¶
# 5. æ‰“ Tag å‘å¸ƒ
git checkout main
git pull origin main
git tag -a v1.2.1 -m "Security patch: SQL injection fix"
git push origin v1.2.1
```

### 5.3 å·¥ä½œæµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¼€å‘å·¥ä½œæµç¨‹                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚   â”‚  main   â”‚â”€â”€â”€â–¶â”‚ åˆ›å»ºåˆ†æ”¯ â”‚â”€â”€â”€â–¶â”‚  å¼€å‘   â”‚â”€â”€â”€â–¶â”‚  æäº¤   â”‚ â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â”‚
â”‚        â–²                                            â”‚      â”‚
â”‚        â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚      â”‚
â”‚        â”‚         â”‚  åˆå¹¶   â”‚â—€â”€â”€â”€â”‚   PR    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚        â”‚         â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚        â”‚              â”‚              â–²                     â”‚
â”‚        â”‚              â”‚         â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”               â”‚
â”‚        â”‚              â”‚         â”‚ Review  â”‚               â”‚
â”‚        â”‚              â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚        â”‚              â–¼                                    â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€åˆ é™¤åˆ†æ”¯                                 â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Code Review è§„èŒƒ

### 6.1 PR æè¿°æ¨¡æ¿

```markdown
## ğŸ“‹ å˜æ›´æè¿°
ç®€è¦è¯´æ˜æœ¬æ¬¡å˜æ›´çš„å†…å®¹å’Œç›®çš„ã€‚

## ğŸ”— å…³è”
- Issue: #123
- éœ€æ±‚æ–‡æ¡£: [é“¾æ¥]

## ğŸ“ å˜æ›´ç±»å‹
- [ ] âœ¨ æ–°åŠŸèƒ½ (feat)
- [ ] ğŸ› Bug ä¿®å¤ (fix)
- [ ] â™»ï¸ é‡æ„ (refactor)
- [ ] ğŸ“š æ–‡æ¡£ (docs)
- [ ] ğŸ§ª æµ‹è¯• (test)
- [ ] ğŸ”§ é…ç½®/å·¥å…· (chore)

## ğŸ§ª æµ‹è¯•
- [ ] å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] æ‰‹åŠ¨æµ‹è¯•é€šè¿‡

## ğŸ“¸ æˆªå›¾/æ¼”ç¤º
ï¼ˆå¦‚æœ‰ UI å˜æ›´ï¼Œé™„æˆªå›¾ï¼‰

## âš ï¸ æ³¨æ„äº‹é¡¹
ï¼ˆéœ€è¦ç‰¹åˆ«å…³æ³¨çš„ç‚¹ã€æ½œåœ¨é£é™©ç­‰ï¼‰

## âœ… è‡ªæ£€æ¸…å•
- [ ] ä»£ç ç¬¦åˆé¡¹ç›®è§„èŒƒ
- [ ] æ— æ•æ„Ÿä¿¡æ¯æ³„éœ²
- [ ] å·²æ›´æ–°ç›¸å…³æ–‡æ¡£
- [ ] å·²æ·»åŠ å¿…è¦æµ‹è¯•
```

### 6.2 Review æ£€æŸ¥ç‚¹

| ç±»åˆ« | æ£€æŸ¥é¡¹ |
|------|--------|
| **åŠŸèƒ½** | æ˜¯å¦æ»¡è¶³éœ€æ±‚ï¼Ÿè¾¹ç•Œæƒ…å†µæ˜¯å¦å¤„ç†ï¼Ÿ |
| **ä»£ç è´¨é‡** | æ˜¯å¦æ¸…æ™°æ˜“è¯»ï¼Ÿæ˜¯å¦æœ‰é‡å¤ä»£ç ï¼Ÿ |
| **å®‰å…¨** | æ˜¯å¦æœ‰æ³¨å…¥é£é™©ï¼Ÿæ•æ„Ÿæ•°æ®æ˜¯å¦ä¿æŠ¤ï¼Ÿ |
| **æ€§èƒ½** | æ˜¯å¦æœ‰æ˜æ˜¾æ€§èƒ½é—®é¢˜ï¼ŸN+1 æŸ¥è¯¢ï¼Ÿ |
| **æµ‹è¯•** | æ˜¯å¦æœ‰å……åˆ†æµ‹è¯•è¦†ç›–ï¼Ÿ |
| **æ–‡æ¡£** | å…¬å…± API æ˜¯å¦æœ‰æ–‡æ¡£è¯´æ˜ï¼Ÿ |

### 6.3 Review ç¤¼ä»ª

```markdown
# âœ… å»ºè®¾æ€§åé¦ˆ
"è€ƒè™‘ä½¿ç”¨ `Option::map` ç®€åŒ–è¿™æ®µä»£ç ï¼Ÿä¾‹å¦‚ï¼š..."
"è¿™é‡Œå¯èƒ½æœ‰å¹¶å‘é—®é¢˜ï¼Œå»ºè®®åŠ é”æˆ–ä½¿ç”¨åŸå­æ“ä½œ"
"å»ºè®®ï¼šä¸ºè¿™ä¸ªå…¬å…±å‡½æ•°æ·»åŠ æ–‡æ¡£æ³¨é‡Š"

# âŒ é¿å…çš„è¡¨è¾¾
"è¿™ä»£ç å¤ªçƒ‚äº†"
"ä¸ºä»€ä¹ˆè¿™æ ·å†™ï¼Ÿ"
"ä¸è¡Œ"
```

### 6.4 Review è§„èŒƒè¦ç‚¹

| è§„åˆ™ | è¯´æ˜ |
|------|------|
| è‡³å°‘ 1 äºº Approve | æ ¸å¿ƒæ¨¡å—éœ€ 2 äºº |
| 24 å°æ—¶å†…å“åº” | ç´§æ€¥ PR 4 å°æ—¶å†… |
| è¯„è®ºè¦å…·ä½“ | è¯´æ˜åŸå› ï¼Œç»™å‡ºå»ºè®® |
| å° PR ä¼˜å…ˆ | < 400 è¡Œå˜æ›´ä¸ºä½³ |
| åŒºåˆ†é˜»å¡/å»ºè®® | æ˜ç¡®æ ‡æ³¨ `[blocking]` æˆ– `[nit]` |

---

## 7. åˆå¹¶ç­–ç•¥

### 7.1 åˆå¹¶æ–¹å¼å¯¹æ¯”

| æ–¹å¼ | å‘½ä»¤ | å†å²è®°å½• | é€‚ç”¨åœºæ™¯ |
|------|------|----------|----------|
| **Squash Merge** | `--squash` | å•ä¸€æäº¤ | åŠŸèƒ½åˆ†æ”¯ï¼ˆæ¨èï¼‰ |
| **Rebase Merge** | `--rebase` | çº¿æ€§å†å² | éœ€è¦ä¿ç•™æäº¤è®°å½• |
| **Merge Commit** | `--no-ff` | ä¿ç•™åˆ†æ”¯ç»“æ„ | é•¿æœŸåˆ†æ”¯åˆå¹¶ |

### 7.2 æ¨èç­–ç•¥

```bash
# âœ… æ¨èï¼šSquash Mergeï¼ˆGitHub/GitLab è®¾ç½®ï¼‰
# å°†åŠŸèƒ½åˆ†æ”¯çš„å¤šä¸ªæäº¤åˆå¹¶ä¸ºä¸€ä¸ªæ¸…æ™°çš„æäº¤

# æ•ˆæœç¤ºä¾‹ï¼š
# åŠŸèƒ½åˆ†æ”¯æäº¤ï¼š
#   - feat(auth): WIP login form
#   - fix typo
#   - add validation
#   - address review comments
#
# Squash åï¼š
#   - feat(auth): add user login with JWT (#123)

# âœ… é€‚ç”¨ Rebase Merge çš„æƒ…å†µï¼š
# éœ€è¦ä¿ç•™æ¯ä¸ªæäº¤çš„å®Œæ•´å†å²ï¼ˆå¦‚é‡è¦çš„é‡æ„ï¼‰

# âŒ é¿å…ï¼šæ™®é€š Merge Commit
# ä¼šäº§ç”Ÿå¤§é‡ merge commitï¼Œå†å²æ··ä¹±
```

### 7.3 åˆå¹¶è§„åˆ™

| è§„åˆ™ | è¯´æ˜ |
|------|------|
| CI å¿…é¡»é€šè¿‡ | æ‰€æœ‰æ£€æŸ¥ç»¿è‰² |
| Review å·²å®Œæˆ | è‡³å°‘ 1 ä¸ª Approve |
| åˆ†æ”¯å·²åŒæ­¥ | ä¸ main æ— å†²çª |
| Squash åˆå¹¶ | ä¿æŒå†å²æ•´æ´ |
| åˆå¹¶ååˆ é™¤åˆ†æ”¯ | è‡ªåŠ¨æˆ–æ‰‹åŠ¨æ¸…ç† |

---

## 8. ç‰ˆæœ¬å·ç®¡ç†

### 8.1 è¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemVerï¼‰

```
v<MAJOR>.<MINOR>.<PATCH>[-<prerelease>][+<metadata>]

ç¤ºä¾‹ï¼š
v1.0.0          # æ­£å¼ç‰ˆæœ¬
v1.2.3          # å¸¸è§„ç‰ˆæœ¬
v2.0.0-alpha.1  # é¢„å‘å¸ƒç‰ˆæœ¬
v2.0.0-beta.2   # Beta ç‰ˆæœ¬
v2.0.0-rc.1     # å€™é€‰å‘å¸ƒç‰ˆæœ¬
v1.2.3+build.456 # å¸¦æ„å»ºå…ƒæ•°æ®
```

### 8.2 ç‰ˆæœ¬å·å˜æ›´è§„åˆ™

| ç‰ˆæœ¬ | å˜æ›´æ¡ä»¶ | ç¤ºä¾‹ |
|------|----------|------|
| **MAJOR** | ä¸å…¼å®¹çš„ API å˜æ›´ | v1.x.x â†’ v2.0.0 |
| **MINOR** | å‘åå…¼å®¹çš„æ–°åŠŸèƒ½ | v1.1.x â†’ v1.2.0 |
| **PATCH** | å‘åå…¼å®¹çš„ Bug ä¿®å¤ | v1.1.1 â†’ v1.1.2 |

### 8.3 ç‰ˆæœ¬å·å†³ç­–æµç¨‹

```
æ˜¯å¦æœ‰ç ´åæ€§å˜æ›´ï¼Ÿ
    â”‚
    â”œâ”€â”€ æ˜¯ â”€â”€â–¶ MAJOR +1, MINOR = 0, PATCH = 0
    â”‚
    â””â”€â”€ å¦ â”€â”€â–¶ æ˜¯å¦æœ‰æ–°åŠŸèƒ½ï¼Ÿ
                    â”‚
                    â”œâ”€â”€ æ˜¯ â”€â”€â–¶ MINOR +1, PATCH = 0
                    â”‚
                    â””â”€â”€ å¦ â”€â”€â–¶ PATCH +1
```

### 8.4 é¢„å‘å¸ƒç‰ˆæœ¬

| æ ‡ç­¾ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `alpha` | å†…éƒ¨æµ‹è¯•ï¼ŒåŠŸèƒ½ä¸å®Œæ•´ | v2.0.0-alpha.1 |
| `beta` | åŠŸèƒ½å®Œæ•´ï¼Œå¯èƒ½æœ‰ Bug | v2.0.0-beta.1 |
| `rc` | å€™é€‰å‘å¸ƒï¼Œå‡†å¤‡æ­£å¼å‘å¸ƒ | v2.0.0-rc.1 |

### 8.5 Cargo.toml ç‰ˆæœ¬ç®¡ç†

```toml
[package]
name = "my-project"
version = "1.2.3"  # ä¸ Git Tag ä¿æŒä¸€è‡´

# ä¾èµ–ç‰ˆæœ¬çº¦æŸ
[dependencies]
serde = "1.0"        # ^1.0.0 (>=1.0.0, <2.0.0)
tokio = "1.28"       # ^1.28.0
sqlx = "~0.7.3"      # >=0.7.3, <0.8.0
exact-dep = "=1.2.3" # ç²¾ç¡®ç‰ˆæœ¬
```

---

## 9. æ ‡ç­¾ä¸å‘å¸ƒ

### 9.1 åˆ›å»ºæ ‡ç­¾

```bash
# åˆ›å»ºå¸¦æ³¨é‡Šçš„æ ‡ç­¾ï¼ˆæ¨èï¼‰
git tag -a v1.2.3 -m "Release v1.2.3: Add user authentication"

# æ¨é€æ ‡ç­¾
git push origin v1.2.3

# æ¨é€æ‰€æœ‰æ ‡ç­¾
git push origin --tags

# åˆ é™¤æœ¬åœ°æ ‡ç­¾
git tag -d v1.2.3

# åˆ é™¤è¿œç¨‹æ ‡ç­¾
git push origin :refs/tags/v1.2.3
```

### 9.2 å‘å¸ƒæµç¨‹

```bash
# 1. ç¡®ä¿ main åˆ†æ”¯æœ€æ–°ä¸”ç¨³å®š
git checkout main
git pull origin main

# 2. è¿è¡Œæ‰€æœ‰æµ‹è¯•
cargo test
cargo clippy

# 3. æ›´æ–°ç‰ˆæœ¬å·
# ç¼–è¾‘ Cargo.toml ä¸­çš„ version å­—æ®µ

# 4. æ›´æ–° CHANGELOG
# ç¼–è¾‘ CHANGELOG.md

# 5. æäº¤ç‰ˆæœ¬å˜æ›´
git add Cargo.toml CHANGELOG.md
git commit -m "chore(release): bump version to 1.2.3"

# 6. åˆ›å»ºæ ‡ç­¾
git tag -a v1.2.3 -m "Release v1.2.3"

# 7. æ¨é€
git push origin main
git push origin v1.2.3

# 8. åœ¨ GitHub/GitLab åˆ›å»º Release
# é™„ä¸Š CHANGELOG å†…å®¹å’Œæ„å»ºäº§ç‰©
```

### 9.3 CHANGELOG æ ¼å¼

```markdown
# Changelog

## [Unreleased]

## [1.2.3] - 2024-01-15

### Added
- æ–°å¢ç”¨æˆ·å¯¼å‡ºåŠŸèƒ½ (#123)
- æ”¯æŒ OAuth2 ç™»å½• (#124)

### Changed
- ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½ (#125)
- æ›´æ–°ä¾èµ–ç‰ˆæœ¬

### Fixed
- ä¿®å¤ç™»å½•è¶…æ—¶é—®é¢˜ (#126)
- ä¿®å¤ç©ºæŒ‡é’ˆå¼‚å¸¸ (#127)

### Security
- ä¿®å¤ SQL æ³¨å…¥æ¼æ´ (#128)

### Deprecated
- `old_api()` å·²å¼ƒç”¨ï¼Œè¯·ä½¿ç”¨ `new_api()`

### Removed
- ç§»é™¤åºŸå¼ƒçš„ v1 API

## [1.2.2] - 2024-01-10
...
```

---

## 10. å†²çªå¤„ç†

### 10.1 é¢„é˜²å†²çª

| ç­–ç•¥ | è¯´æ˜ |
|------|------|
| å°æ­¥æäº¤ | å‡å°‘æ¯æ¬¡å˜æ›´èŒƒå›´ |
| é¢‘ç¹åŒæ­¥ | æ¯å¤© rebase main |
| æ¨¡å—åŒ–ä»£ç  | å‡å°‘æ–‡ä»¶é‡å  |
| æ²Ÿé€šåè°ƒ | åŒä¸€æ–‡ä»¶çš„ä¿®æ”¹æå‰æ²Ÿé€š |

### 10.2 è§£å†³å†²çª

```bash
# Rebase æ—¶é‡åˆ°å†²çª
git rebase origin/main

# æŸ¥çœ‹å†²çªæ–‡ä»¶
git status

# ç¼–è¾‘å†²çªæ–‡ä»¶ï¼Œè§£å†³å†²çª
# <<<<<<< HEAD
# ä½ çš„ä»£ç 
# =======
# ä»–äººçš„ä»£ç 
# >>>>>>> origin/main

# ä¿ç•™æ­£ç¡®çš„ä»£ç ï¼Œåˆ é™¤å†²çªæ ‡è®°

# æ ‡è®°å·²è§£å†³
git add <resolved-files>

# ç»§ç»­ rebase
git rebase --continue

# å¦‚æœéœ€è¦æ”¾å¼ƒ rebase
git rebase --abort
```

### 10.3 å†²çªè§£å†³åŸåˆ™

| åŸåˆ™ | è¯´æ˜ |
|------|------|
| ç†è§£åŒæ–¹æ„å›¾ | å…ˆææ¸…æ¥šä¸¤è¾¹çš„æ”¹åŠ¨ç›®çš„ |
| ä¿ç•™ä¸¤è€…åŠŸèƒ½ | å°½é‡åˆå¹¶è€Œéç®€å•è¦†ç›– |
| æµ‹è¯•éªŒè¯ | è§£å†³åå¿…é¡»è¿è¡Œæµ‹è¯• |
| å¿…è¦æ—¶æ²Ÿé€š | å¤æ‚å†²çªæ‰¾ç›¸å…³äººç¡®è®¤ |

---

## 11. å›¢é˜Ÿçº¦å®šæ¸…å•

### âœ… å¿…é¡»éµå®ˆ

| è§„åˆ™ | è¯´æ˜ |
|------|------|
| æ‰€æœ‰å˜æ›´é€šè¿‡ PR | ç¦æ­¢ç›´æ¥æ¨é€ main |
| Commit éµå¾ªè§„èŒƒ | `<type>(<scope>): <subject>` |
| PR å¿…é¡»é€šè¿‡ CI | æµ‹è¯•ã€lint å…¨éƒ¨ç»¿è‰² |
| è‡³å°‘ 1 äºº Review | æ ¸å¿ƒæ¨¡å—éœ€ 2 äºº |
| ä½¿ç”¨ Squash Merge | ä¿æŒå†å²æ•´æ´ |
| åˆå¹¶ååˆ é™¤åˆ†æ”¯ | ä¿æŒåˆ†æ”¯åˆ—è¡¨æ•´æ´ |
| ç‰ˆæœ¬å·éµå¾ª SemVer | ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢å· |

### âŒ ç¦æ­¢äº‹é¡¹

| è§„åˆ™ | è¯´æ˜ |
|------|------|
| ç¦æ­¢ç›´æ¥æ¨é€ main | å¿…é¡»é€šè¿‡ PR |
| ç¦æ­¢ force push å…¬å…±åˆ†æ”¯ | mainã€release ç­‰ |
| ç¦æ­¢æäº¤æ•æ„Ÿä¿¡æ¯ | å¯†é’¥ã€å¯†ç ã€token |
| ç¦æ­¢æ— æ„ä¹‰çš„ commit | "fix"ã€"update"ã€"test" |
| ç¦æ­¢è¶…å¤§ PR | > 1000 è¡Œéœ€æ‹†åˆ† |
| ç¦æ­¢é•¿æœŸä¸åˆå¹¶çš„åˆ†æ”¯ | è¶…è¿‡ 2 å‘¨éœ€å¤„ç† |

### ğŸ“ Code Review æ£€æŸ¥ç‚¹

- [ ] Commit message æ˜¯å¦è§„èŒƒï¼Ÿ
- [ ] åˆ†æ”¯å‘½åæ˜¯å¦æ­£ç¡®ï¼Ÿ
- [ ] CI æ˜¯å¦å…¨éƒ¨é€šè¿‡ï¼Ÿ
- [ ] æ˜¯å¦æœ‰æ•æ„Ÿä¿¡æ¯æ³„éœ²ï¼Ÿ
- [ ] ä»£ç æ˜¯å¦ç¬¦åˆé¡¹ç›®è§„èŒƒï¼Ÿ
- [ ] æ˜¯å¦æœ‰å……åˆ†çš„æµ‹è¯•è¦†ç›–ï¼Ÿ
- [ ] PR æè¿°æ˜¯å¦å®Œæ•´ï¼Ÿ

### ğŸ”§ Git é…ç½®å»ºè®®

```bash
# è®¾ç½®ç”¨æˆ·ä¿¡æ¯
git config --global user.name "Your Name"
git config --global user.email "your.email@company.com"

# è®¾ç½®é»˜è®¤ç¼–è¾‘å™¨
git config --global core.editor "code --wait"

# è®¾ç½®é»˜è®¤åˆ†æ”¯å
git config --global init.defaultBranch main

# è‡ªåŠ¨æ¸…ç†è¿œç¨‹å·²åˆ é™¤çš„åˆ†æ”¯
git config --global fetch.prune true

# è®¾ç½® pull é»˜è®¤ä½¿ç”¨ rebase
git config --global pull.rebase true

# è®¾ç½®æ¨é€é»˜è®¤è¡Œä¸º
git config --global push.default current

# å¯ç”¨é¢œè‰²
git config --global color.ui auto
```

---

## 12. å¿«é€Ÿå‚è€ƒå¡ç‰‡

### åˆ†æ”¯å‘½å

```bash
feature/<ticket>-<description>   # feature/AUTH-123-user-login
bugfix/<ticket>-<description>    # bugfix/API-456-null-pointer
hotfix/<ticket>-<description>    # hotfix/SEC-001-injection
refactor/<description>           # refactor/extract-utils
release/<version>                # release/v1.2.0
docs/<description>               # docs/update-readme
```

### Commit ç±»å‹

```bash
feat     # æ–°åŠŸèƒ½
fix      # Bug ä¿®å¤
refactor # é‡æ„
perf     # æ€§èƒ½ä¼˜åŒ–
docs     # æ–‡æ¡£
test     # æµ‹è¯•
style    # æ ¼å¼
chore    # æ„å»º/å·¥å…·
ci       # CI/CD
revert   # å›æ»š
```

### å¸¸ç”¨å‘½ä»¤

```bash
# åˆ†æ”¯æ“ä½œ
git checkout -b <branch>         # åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯
git branch -d <branch>           # åˆ é™¤æœ¬åœ°åˆ†æ”¯
git push origin -d <branch>      # åˆ é™¤è¿œç¨‹åˆ†æ”¯
git branch -a                    # æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯

# åŒæ­¥æ“ä½œ
git fetch origin                 # è·å–è¿œç¨‹æ›´æ–°
git pull --rebase                # æ‹‰å–å¹¶ rebase
git rebase origin/main           # rebase åˆ° main

# æäº¤æ“ä½œ
git commit -m "msg"              # æäº¤
git commit --amend               # ä¿®æ”¹æœ€åä¸€æ¬¡æäº¤
git reset HEAD~1                 # æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆä¿ç•™æ–‡ä»¶ï¼‰
git reset --hard HEAD~1          # æ’¤é”€æœ€åä¸€æ¬¡æäº¤ï¼ˆä¸¢å¼ƒæ–‡ä»¶ï¼‰

# æ ‡ç­¾æ“ä½œ
git tag -a v1.0.0 -m "msg"       # åˆ›å»ºæ ‡ç­¾
git push origin v1.0.0           # æ¨é€æ ‡ç­¾
git tag -d v1.0.0                # åˆ é™¤æœ¬åœ°æ ‡ç­¾
git push origin :refs/tags/v1.0.0 # åˆ é™¤è¿œç¨‹æ ‡ç­¾

# æŸ¥çœ‹æ“ä½œ
git log --oneline -10            # ç®€æ´æ—¥å¿—
git log --graph --oneline        # å›¾å½¢åŒ–æ—¥å¿—
git diff                         # æŸ¥çœ‹æœªæš‚å­˜çš„å˜æ›´
git diff --staged                # æŸ¥çœ‹å·²æš‚å­˜çš„å˜æ›´
```

### æ ‡å‡†å·¥ä½œæµ

```bash
# 1. åŒæ­¥ â†’ 2. åˆ›å»ºåˆ†æ”¯ â†’ 3. å¼€å‘æäº¤ â†’ 4. åŒæ­¥ â†’ 5. æ¨é€ â†’ 6. PR â†’ 7. Review â†’ 8. åˆå¹¶ â†’ 9. æ¸…ç†
git checkout main && git pull
git checkout -b feature/xxx
git add . && git commit -m "feat: ..."
git fetch && git rebase origin/main
git push origin feature/xxx
# åˆ›å»º PRï¼ŒCode Reviewï¼ŒSquash Merge
git checkout main && git pull && git branch -d feature/xxx
```

### ç‰ˆæœ¬å·è§„åˆ™

```
vä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢å·

ä¸»ç‰ˆæœ¬ï¼šä¸å…¼å®¹çš„ API å˜æ›´     v1.x.x â†’ v2.0.0
æ¬¡ç‰ˆæœ¬ï¼šå‘åå…¼å®¹çš„æ–°åŠŸèƒ½      v1.1.x â†’ v1.2.0
ä¿®è®¢å·ï¼šå‘åå…¼å®¹çš„ Bug ä¿®å¤   v1.1.1 â†’ v1.1.2

é¢„å‘å¸ƒï¼š-alpha.1, -beta.1, -rc.1
```

### .gitignore æ¨¡æ¿

```gitignore
# Rust
/target/
Cargo.lock  # åº“é¡¹ç›®
*.rs.bk

# IDE
.idea/
.vscode/
*.swp

# ç¯å¢ƒ
.env
.env.local
*.local

# æ—¥å¿—
*.log
logs/

# ç³»ç»Ÿ
.DS_Store
Thumbs.db

# æ„å»ºäº§ç‰©
/dist/
/build/
```